(function(d){window.Line_Firebase=d()})(function(){function d(d,a,f,c,b){$.ajax({crossDomain:!0,cashe:!1,type:d,contentType:"application/json; charset=utf-8",data:JSON.stringify(f),url:a}).done(c).fail(b)}firebase.initializeApp(firebaseConfig);firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE);var g=(Math.random()*Date.now()*Math.pow(10,5)).toString(16);Cookies.set("csrfToken",g,{expires:1,secure:!0});return function(){function e(){}e.hello=function(){return"Hello from Line"};e.auth=
function(){function a(){}a.signInWithGoogleAuth=function(){return new Promise(function(f,a){var b=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(b).then(function(a){return a.user.getIdToken()}).then(function(b){var c=Cookies.get("csrfToken");d("PUT","/auth/signin",{idToken:b,csrfToken:c},f,a)})["catch"](function(a){reject(a)})})};a.signUpWithGoogleAuth=function(){return new Promise(function(a,c){var b={userId:firebase.auth().currentUser.uid};d("PUT","/auth/signup",b,a,c)})};
a.signInWithEmailPassword=function(a){return new Promise(function(c,b){firebase.auth().signInWithEmailAndPassword(a.email,a.password).then(function(a){_user=a.user;return a.user.getIdToken()}).then(function(a){var f=Cookies.get("csrfToken");d("PUT","/auth/signin",{idToken:a,csrfToken:f},c,b)})["catch"](function(a){b(a)})})};a.signUpWithEmailPassword=function(a){return new Promise(function(c,b){firebase.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(a){_user=a.user;d("POST",
"/auth/signup",{userId:a.user.uid},c,b)})["catch"](function(a){b(a)})})};a.sendEmailVerification=function(){return new Promise(function(a,c){firebase.auth().onAuthStateChanged(function(b){b?b.sendEmailVerification().then(a)["catch"](c):c({message:"fail to send verification email."})})})};return a};e.app=function(){function a(){}a.list=function(a){return new Promise(function(a,b){d("GET","/app",{},a,b)})};a.add=function(a){return new Promise(function(c,b){d("POST","/app",{appName:a},c,b)})};a["delete"]=
function(a){return new Promise(function(c,b){d("DELETE","/app/"+a,{},c,b)})};return a};e.view=function(){function a(){}a.getBlock=function(a){return new Promise(function(c,b){d("GET",a,{},c,b)})};return a};e.signOut=function(){return new Promise(function(a,e){d("DELETE","/auth/signout",{},a,e)})};e.redirect=function(a){window.location.assign(a)};return e}()});